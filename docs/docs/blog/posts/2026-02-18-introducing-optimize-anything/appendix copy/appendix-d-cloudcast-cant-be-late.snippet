<span id="appendix-d-cloudcast--cant-be-late"></span>
??? example "CloudCast & Can't Be Late"

    Generalization mode for cloud infrastructure optimization. Both examples optimize Python code implementing scheduling/routing strategies, evaluated by simulation.

    **CloudCast** — broadcast routing for multi-cloud data transfer:

    ```python
    from gepa.optimize_anything import optimize_anything, GEPAConfig, EngineConfig, ReflectionConfig

    INITIAL_PROGRAM = """
    def search_algorithm(src, dsts, G, num_partitions):
        # Baseline: Dijkstra shortest path by cost
        ...
    """

    optimize_anything(
        seed_candidate={"program": INITIAL_PROGRAM},
        evaluator=create_evaluator(timeout=300),
        dataset=train_set,
        valset=val_set,
        objective="Optimize a broadcast routing algorithm for multi-cloud data transfer. "
                  "Minimize total cost while maintaining good transfer times.",
        background="Nodes are cloud regions. Edges have cost ($/GB) and throughput (Gbps). "
                   "Data is partitioned into chunks that can be routed independently.",
        config=GEPAConfig(
            engine=EngineConfig(max_metric_calls=100),
            reflection=ReflectionConfig(reflection_lm=llm_model),
        ),
    )
    ```

    **Can't Be Late** — cloud scheduling with SPOT vs ON_DEMAND instances:

    ```python
    INITIAL_STRATEGY = """
    class EvolveSingleRegionStrategy(Strategy):
        def _step(self, last_cluster_type, has_spot):
            remaining_time = self.deadline - self.env.elapsed_seconds
            remaining_task = self.task_duration - sum(self.task_done_time)
            if remaining_task + self.restart_overhead >= remaining_time:
                return ClusterType.ON_DEMAND  # deadline pressure
            return ClusterType.SPOT if has_spot else ClusterType.NONE
    """

    optimize_anything(
        seed_candidate={"program": INITIAL_STRATEGY},
        evaluator=create_evaluator(timeout=300),
        dataset=train_set,
        valset=val_set,
        objective="Optimize a cloud scheduling strategy. Minimize cost while "
                  "ensuring task completion before deadline.",
        background="SPOT: ~$0.3/hr, preemptible. ON_DEMAND: ~$1/hr, reliable. "
                   "The strategy must guarantee deadline completion.",
        config=GEPAConfig(
            engine=EngineConfig(max_metric_calls=100, parallel=True, max_workers=128),
            reflection=ReflectionConfig(reflection_lm=llm_model),
        ),
    )
    ```
